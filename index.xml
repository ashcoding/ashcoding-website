<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ashcoding&#39;s logs</title>
    <link>http://ashcoding.com/</link>
    <description>Recent content on ashcoding&#39;s logs</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 10 Sep 2016 10:54:50 +0800</lastBuildDate>
    <atom:link href="http://ashcoding.com/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Android: guessContentTypeFromStream()</title>
      <link>http://ashcoding.com/post/guesscontenttypefromstream/</link>
      <pubDate>Sat, 10 Sep 2016 10:54:50 +0800</pubDate>
      
      <guid>http://ashcoding.com/post/guesscontenttypefromstream/</guid>
      <description>&lt;p&gt;If you ever used Android’s implementation of &lt;code&gt;URLConnection.guessContentTypeFromStream()&lt;/code&gt;, guess what? Android’s implementation of it is a VERY limited version of the Java version. Take a look at android’s code at like 695 onward &lt;a href=&#34;https://android.googlesource.com/platform/libcore/+/master/luni/src/main/java/java/net/URLConnection.java&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It only returns 4 different strings from its guess. They are, &lt;code&gt;application/zip&lt;/code&gt;,&lt;code&gt;image/gif&lt;/code&gt;, &lt;code&gt;text/html&lt;/code&gt; and &lt;code&gt;application/xml&lt;/code&gt;. If you have a PNG image, it won’t guess it!&lt;/p&gt;

&lt;p&gt;So how do you improve the guessing in Android? Well, you got to improve the &lt;code&gt;guessContentTypeFromStream()&lt;/code&gt; in Android by using the Java’s implementation. You can check it out &lt;a href=&#34;http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/net/URLConnection.java#URLConnection.guessContentTypeFromStream%28java.io.InputStream%29&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;From there, you can improve it with the additional guesses that was implemented in Java.&lt;/p&gt;

&lt;p&gt;Go forth and create this method if you need it in Android.&lt;/p&gt;

&lt;p&gt;Learned this Android Quirk from
&lt;a href=&#34;https://github.com/appcelerator/titanium_mobile/pull/6216&#34;&gt;https://github.com/appcelerator/titanium_mobile/pull/6216&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Note: This &lt;a href=&#34;https://ashcoding.wordpress.com/2015/05/26/android-urlconnection-guesscontenttypefromstream/&#34;&gt;article&lt;/a&gt;
was original written by me in my Wordpress blog. I&amp;rsquo;m currently trying to move
all articles here.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Hello, World</title>
      <link>http://ashcoding.com/post/helloworld/</link>
      <pubDate>Fri, 09 Sep 2016 23:17:52 +0800</pubDate>
      
      <guid>http://ashcoding.com/post/helloworld/</guid>
      <description>&lt;p&gt;So&amp;hellip; This is my first post here. I&amp;rsquo;ve finally managed to set a blog up.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m using &lt;a href=&#34;https://gohugo.io/&#34;&gt;Hugo&lt;/a&gt;, a static website engine to generate this.
It&amp;rsquo;s actually pretty cool.&lt;/p&gt;

&lt;p&gt;Well, that&amp;rsquo;s all I have to say for now. See you later!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>About</title>
      <link>http://ashcoding.com/about/</link>
      <pubDate>Sat, 20 Jun 2015 14:02:37 +0200</pubDate>
      
      <guid>http://ashcoding.com/about/</guid>
      <description>&lt;p&gt;Just another Software Engineer who likes coding, experimenting and documenting the results.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>